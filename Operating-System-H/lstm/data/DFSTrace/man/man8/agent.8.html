Content-type: text/html
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML><HEAD><TITLE>Manpage of AGENT</TITLE>
</HEAD><BODY>
<H2>AGENT</H2>
Section: Maintenance Commands (8)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updated: Feb 10, 1992&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../README.Reading.Library.html">Return to Library's README</A>
<HR>
<P>
<A NAME="lbAB"></A>
<H3>NAME</H3>
agent -- dfstrace client side data collector
<P>
<A NAME="lbAC"></A>
<H3>SYNOPSIS</H3>
<PRE>agent [ -v ] [ -l level ] [ -b bufsiz ] [ -h host ] [ -r RPC2 debug level ] [ -s sleeptime ]
</PRE>
<P>
<A NAME="lbAD"></A>
<H3>DESCRIPTION</H3>
&nbsp;
Agent is a program that reads blocks of trace data generated by
dfstrace from the kernel.  Data is buffered in fixed size memory
buffers, then shipped to one of a small number of collection servers.
Agent must run as root; it is typically started from /etc/rc.local at
boot time.   In addition to the switches below, agent responds to
signals SIGURG (flush data to server), SIGTERM (flush data and shut
down), SIGALRM (start a new file on the server), SIGEMT (turn RPC2
debugging up), and SIGIOT (turn RPC2 debugging off).
<P>
<A NAME="lbAE"></A>
<H3>OPTIONS</H3>
<P>
<DL COMPACT>
<DT><DD>
<B>-b&nbsp;bufsize</B>
&nbsp;Set&nbsp;the&nbsp;buffer&nbsp;size&nbsp;to&nbsp;<I>bufsize</I>&nbsp;kbytes.&nbsp;&nbsp;Agent&nbsp;uses&nbsp;two&nbsp;of&nbsp;these
buffers.  Default is 500 kbytes.
<P>
<DT><DD>
<B>-h&nbsp;host</B>
&nbsp;Send&nbsp;data&nbsp;to&nbsp;a&nbsp;collection&nbsp;server&nbsp;on&nbsp;<I>host.</I>&nbsp;Default&nbsp;is&nbsp;britten.coda.cs.cmu.edu.
<P>
<DT><DD>
<B>-l&nbsp;level</B>
&nbsp;Sets&nbsp;trace&nbsp;level&nbsp;to&nbsp;trace&nbsp;basic&nbsp;file&nbsp;system&nbsp;calls,&nbsp;name
resolution operations, and/or reads and writes.  Default is 
system calls and name resolution.
<P>
<DT><DD>
<B>-r&nbsp;num</B>
&nbsp;Set&nbsp;RPC2&nbsp;debug&nbsp;level&nbsp;to&nbsp;<I>num.</I>&nbsp;
<DT><DD>
<B>-s&nbsp;sleeptime</B>
&nbsp;Sleep&nbsp;<I>sleeptime</I>&nbsp;seconds&nbsp;before&nbsp;starting&nbsp;to&nbsp;read&nbsp;data.&nbsp;&nbsp;Useful
for avoiding certain boot time processes, such as cache scans.
Default is no sleep.
<P>
<DT><DD>
<B>-v</B>
&nbsp;Verbose&nbsp;mode.&nbsp;&nbsp;Among&nbsp;other&nbsp;things,
prints a message on every read from the kernel.
<P>
</DL>
<P>
<A NAME="lbAF"></A>
<H3>DIAGNOSTICS</H3>
<P>
The following are frequently encountered errors:
<P>
``can't open /dev/dfstrace''.  Either /dev/dfstrace doesn't
exist, or the program isn't being run as root.
<P>
``kernel vars not found''.   You are probably not running
a tracing kernel.
<P>
``can't open /dev/kmem''.  Program isn't running as root.
<P>
<A NAME="lbAG"></A>
<H3>SEE ALSO</H3>
<P>
collector, traceinfo, tracelevel
<P>
<A NAME="lbAH"></A>
<H3>BUGS</H3>
<P>
Agent should check to see if another agent is running
when it's started.  
<P>
<A NAME="lbAI"></A>
<H3>AUTHOR</H3>
&nbsp;
Lily B.  Mummert
<HR>
<A NAME="index"></A><H3>Index</H3>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">BUGS</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
</DL>
<HR>
This document was created on

Time: 05:25:53 GMT, October 10, 1998
</BODY>
</HTML>
